<div id="signin2" style="display: none">
</div>
<clr-main-container>
	<clr-header class="header-4">
		<div class="branding">
			<a href="#" class="nav-link">
				<span class="minr-logo"></span>
				<span class="title">CityMinR</span>
			</a>
		</div>
		<form class="search">
			<label for="search_input">
        <input (change)="main.query($event.target.value)" id="search_input" type="text" placeholder="Search for a dataset...">
      </label>
		</form>
		<div class="settings">
			<settings></settings>
		</div>
	</clr-header>
	<div class="content-container">
		<div class="content-area">
			<main-component #main (updateHistory)="updateHistory()"></main-component>

			<div class="spinner-container" *ngIf="loading">
				<div class="spinner">
				</div>
			</div>
		</div>
		<nav class="sidenav">
			<section class="sidenav-content">
				<div class="row user-info-container">
					<div class="col-sm-2 no-padding">
						<img class="user-profile-picture" src="{{ activeUser?.image_url }}">
					</div>
					<div class="col-sm-8">
						{{ activeUser?.full_name }}<br>
						<small>
                        {{ activeUser?.email }}
                        </small>
					</div>
					<div class="col-sm-1 edit-user-button">
						<clr-dropdown [clrMenuPosition]="'bottom-right'">
							<button clrDropdownToggle>
                                <clr-icon shape="caret down"></clr-icon>
                            </button>
							<div class="dropdown-menu">
								<a (click)="clickLogout()" clrDropdownItem>Sign out</a>
							</div>
						</clr-dropdown>
					</div>
				</div>
				<section class="nav-group">
					<label for="tabexample2">History</label>
					<ul class="nav-list">
						<li *ngFor="let item of history"><a (click)="clickHistory(item)" class="nav-link">{{ item.createdAt | date: "yyyy/MM/dd H:mm" }}</a></li>
					</ul>
				</section>
			</section>
		</nav>
	</div>
</clr-main-container>